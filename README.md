# Crypt Cryptocurrency Website
<p align='justify' >Crypt is a cryptocurrency website, where you can check out latest cryptocurrencies, their current rates, historical rates and their trend. Which helps you to predict their future, so you can invest your money wisely.</p>
<p align='justify' >Crypt is free, hosted on firebase. Data for current rates is provided by coingecko and history by cryptowatch.</p>
<h2>Idea</h2>
<p align='justify' >&emsp; Surfing through the internet, trying to predict cryptocurrency trends, I thought of making a better and free alternative for allready present sites. You can see the Ideation of this project <a target='_blank' rel="noreferrer" href='https://drive.google.com/file/d/1MMf2BLCpdCHLJ_-R2rfF31vHdpLrqWD9/view?usp=sharing'>here</a>.</p>
<p>As you can see from the ideation, lot of things have changed during the project, such as UI and the API used. Reason for why api has been changed is given in the making and working section. Some features have been added, whereas some have been removed.</p>
<h2>Making and Working of Crypt</h2>
<p align='justify' >&emsp; Crypt gets the cryptocurrency data from API's and displays it in a manner that is easily undastandable and visually appealing. For this, it uses various frameworks and libraries.</p>
<p align='justify' >&emsp; The website is made using  <a target='_blank' rel="noreferrer" href='https://reactjs.org/' >ReactJS</a>. It gives crypt it's dynamic behaviour. Crypt gets the required data by sending http requests to the REST Api endpoints provided by <a target='_blank' rel="noreferrer" href='https://cryptowat.ch/products/cryptocurrency-market-data-api' >Cryptowatch</a> and <a target='_blank' rel="noreferrer" href='https://www.coingecko.com/en/api' >Coingecko</a>. Almost all REST Api's for cryptocurrency data out there have some sort of limit for free use. For Crypt to be free, all requests combined should be within the given limit.</p>
<p align='justify' >&emsp; <a target='_blank' rel="noreferrer" href='https://www.coinapi.io/' >CoinApi</a> is good but has very small limit(only 100 requests a day). So, the Cryptowatch having 10 sec of computer time a day(666 requests a day on avg.) was a obvious choice.</p>
<p align='justify' >&emsp; The thing is, every visitor makes more than one requests to the api in one visit(22 requests are made just on loading). Thats why even a handful people can saturate the api limit. For this reason, crypt is optimised to use minimum number of requests by storing the data which is repetadely accessed and which does not change frequently, such as historical data.</p>
<p align='justify' >&emsp; Historical data is accessed by every user and as history data doesn't change in the course of a day, that can be stored and retrived only once a day. For storing purpose, crypt uses <a target='_blank' rel="noreferrer" href='https://firebase.google.com/products/firestore/' >Cloud Firestore</a>, provided by <a target='_blank' rel="noreferrer" href='https://firebase.google.com/' >Firebase</a>. For every cryptocurrency, a server timestamp of 'updatedOn' is stored, only if the difference between this timestamp and current timestamp exceeds one day, the request is sent to the API. That means, only the first user who opens the website, actually sends the request and updates the backend. If a new cryptocurrency is found, it makes a new document for it and uploads the data in it. All other users access the history data from database itself.</p>
<p align='justify' >&emsp; There is a slight problem with Cryptowatch Api, it doesn't provides the market cap data, which is useful for ranking the cryptocurrencies. For this purpose, crypt uses a second cryptocurrency api named CoinGecko. CoinGecko provides market cap data along with all the data for current rate's. CoinGecko also has a larger limit with 100 requests a minute. CoinGecko has a nasty api endpoint for history and only provides small amount of information in a single request. Thats why its better to stick with two API approach, one for rankings and prices and one for history.</p>
<p align='justify' >&emsp; Crypt uses firebase for hosting and database with free <a target='_blank' rel="noreferrer" href='https://firebase.google.com/pricing/' >spark plan</a> in mind. Spark plan allows 20k reads and 50k writes a day which are more than enough and will not be a bottleneck.</p>
<p align='justify' >&emsp; Cryptowatch dosn't send Allow-Origin header in the http response, that meanse sending requests from frontend will be bloked by <a target='_blank' rel="noreferrer" href='https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS' >CORS policy</a>. To tackle this, a proxy server is used which acts like a middleman in frontend and API server. Proxy server adds the Allow-Origin header in te response so that the browser doesn't block the response. Crypt uses a seperate proxy server using <a target='_blank' rel="noreferrer" href='https://github.com/Rob--W/cors-anywhere' >CORS-Anywhere</a>, deployed on <a target='_blank' rel="noreferrer" href='https://www.heroku.com/' >Heroku</a>. </p>
